\hypertarget{longjmp__exception_8hpp}{}\section{/home/andy/\+Documentos/\+Source/yahal/error/longjmp\+\_\+exception.hpp File Reference}
\label{longjmp__exception_8hpp}\index{/home/andy/\+Documentos/\+Source/yahal/error/longjmp\+\_\+exception.\+hpp@{/home/andy/\+Documentos/\+Source/yahal/error/longjmp\+\_\+exception.\+hpp}}
{\ttfamily \#include $<$setjmp.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{longjmp__exception_8hpp_ad2746371528bdf15c3910b7bf217dac0}{T\+R\+Y}
\begin{DoxyCompactList}\small\item\em Start exception handling. \end{DoxyCompactList}\item 
\hypertarget{longjmp__exception_8hpp_ae30f5c713cfa6a69c6b26492c992052b}{}\#define \hyperlink{longjmp__exception_8hpp_ae30f5c713cfa6a69c6b26492c992052b}{C\+A\+T\+C\+H}~\} else \{\label{longjmp__exception_8hpp_ae30f5c713cfa6a69c6b26492c992052b}

\begin{DoxyCompactList}\small\item\em Handles the throw. \end{DoxyCompactList}\item 
\#define \hyperlink{longjmp__exception_8hpp_a4071a24a0245b51c00c9bfcf103f9c0f}{E\+N\+D\+T\+R\+Y}
\begin{DoxyCompactList}\small\item\em Ends the try-\/catch clause. \end{DoxyCompactList}\item 
\#define \hyperlink{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}{T\+H\+R\+O\+W}(val)~do\{longjmp(ex\+\_\+buf\+\_\+\+\_\+, val);\}while(0)
\begin{DoxyCompactList}\small\item\em Throws with value \char`\"{}val\char`\"{}. \end{DoxyCompactList}\item 
\hypertarget{longjmp__exception_8hpp_a70195a6405d6a11e6aff66ca1b6c53d7}{}\#define \hyperlink{longjmp__exception_8hpp_a70195a6405d6a11e6aff66ca1b6c53d7}{T\+E\+S\+T}(testvalue)~do\{if(testvalue == false) \hyperlink{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}{T\+H\+R\+O\+W}(-\/1);\}while(0);\label{longjmp__exception_8hpp_a70195a6405d6a11e6aff66ca1b6c53d7}

\begin{DoxyCompactList}\small\item\em Test if condition == T\+R\+U\+E, else throw -\/1, Handy if you ignore T\+H\+R\+O\+W\+\_\+\+V\+A\+L. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


Error handling implementation similar to C++ exceptions in C style.

Stores all registers and allows their restoration if something goes wrong.

\begin{DoxyNote}{Note}
Braces are optional. Not using them ensures that you dont forget to use E\+N\+D\+T\+R\+Y
\end{DoxyNote}

\begin{DoxyCode}
\textcolor{comment}{//Example 1: "ignoring THROW\_VAL" and "no braces"}
\hyperlink{longjmp__exception_8hpp_ad2746371528bdf15c3910b7bf217dac0}{TRY}
foo1();         \textcolor{comment}{// Do something}
\hyperlink{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}{THROW}(1);               \textcolor{comment}{// Throws with value 1.}
foo2();         \textcolor{comment}{// Never reaches this point}
\hyperlink{longjmp__exception_8hpp_ae30f5c713cfa6a69c6b26492c992052b}{CATCH}
        \textcolor{comment}{// Handle error here. The "1" is ignored}
\hyperlink{longjmp__exception_8hpp_a4071a24a0245b51c00c9bfcf103f9c0f}{ENDTRY}
\end{DoxyCode}



\begin{DoxyCode}
\textcolor{comment}{//Example 2: "throwing a value"}
\hyperlink{longjmp__exception_8hpp_ad2746371528bdf15c3910b7bf217dac0}{TRY}
\{
        foo1();         \textcolor{comment}{// Do something}
        \hyperlink{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}{THROW}(3);       \textcolor{comment}{// Throws with value 3}
        foo2();         \textcolor{comment}{// Never reaches this point}
\}
\hyperlink{longjmp__exception_8hpp_ae30f5c713cfa6a69c6b26492c992052b}{CATCH}
\{
        \textcolor{comment}{// THROW\_VAL can be used to pass an error code}
        \textcolor{keywordflow}{switch}(THROW\_VAL)
        \{
                \textcolor{keywordflow}{case} 1: error\_handler\_1(); \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{case} 2: error\_handler\_2(); \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{case} 3: error\_handler\_3(); \textcolor{keywordflow}{break};
                \textcolor{keywordflow}{default}: \textcolor{keywordflow}{break};
        \}
\}
\hyperlink{longjmp__exception_8hpp_a4071a24a0245b51c00c9bfcf103f9c0f}{ENDTRY};
\end{DoxyCode}
 

\subsection{Macro Definition Documentation}
\hypertarget{longjmp__exception_8hpp_a4071a24a0245b51c00c9bfcf103f9c0f}{}\index{longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}!E\+N\+D\+T\+R\+Y@{E\+N\+D\+T\+R\+Y}}
\index{E\+N\+D\+T\+R\+Y@{E\+N\+D\+T\+R\+Y}!longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}}
\subsubsection[{E\+N\+D\+T\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+N\+D\+T\+R\+Y}\label{longjmp__exception_8hpp_a4071a24a0245b51c00c9bfcf103f9c0f}
{\bfseries Value\+:}
\begin{DoxyCode}
\}                                                       \(\backslash\)
                                \}\textcolor{keywordflow}{while}(0);
\end{DoxyCode}


Ends the try-\/catch clause. 



Definition at line 101 of file longjmp\+\_\+exception.\+hpp.

\hypertarget{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}{}\index{longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}!T\+H\+R\+O\+W@{T\+H\+R\+O\+W}}
\index{T\+H\+R\+O\+W@{T\+H\+R\+O\+W}!longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}}
\subsubsection[{T\+H\+R\+O\+W}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+H\+R\+O\+W(
\begin{DoxyParamCaption}
\item[{}]{val}
\end{DoxyParamCaption}
)~do\{longjmp(ex\+\_\+buf\+\_\+\+\_\+, val);\}while(0)}\label{longjmp__exception_8hpp_a32b511cadb5acde1de32c0fbf8f583c4}


Throws with value \char`\"{}val\char`\"{}. 

It is stored as an int16\+\_\+t in T\+H\+R\+O\+W\+\_\+\+V\+A\+L 

Definition at line 116 of file longjmp\+\_\+exception.\+hpp.

\hypertarget{longjmp__exception_8hpp_ad2746371528bdf15c3910b7bf217dac0}{}\index{longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}!T\+R\+Y@{T\+R\+Y}}
\index{T\+R\+Y@{T\+R\+Y}!longjmp\+\_\+exception.\+hpp@{longjmp\+\_\+exception.\+hpp}}
\subsubsection[{T\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+Y}\label{longjmp__exception_8hpp_ad2746371528bdf15c3910b7bf217dac0}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do}\{                                                             \(\backslash\)
                                        jmp\_buf ex\_buf\_\_;                                       \(\backslash\)
                                        int16\_t THROW\_VAL;                                      \(\backslash\)
                                        if( (THROW\_VAL = setjmp(ex\_buf\_\_)) == 0)                \(\backslash\)
                                        \{
\end{DoxyCode}


Start exception handling. 

Stores current system status in \char`\"{}ex\+\_\+buf\+\_\+\+\_\+\char`\"{} 

Definition at line 95 of file longjmp\+\_\+exception.\+hpp.

